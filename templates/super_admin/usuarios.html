{% extends "base.html" %}

{% block title %}Gerenciamento de Usuários - Sistema de Metas{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Header Modernizado -->
    <div class="modern-header mb-4">
        <p class="text-muted text-uppercase small mb-1 fw-semibold" style="letter-spacing: 1px;">INSTITUCIONAL</p>
        <h1 class="page-title-modern mb-2">
            <i class="bi bi-people-fill"></i> Gerenciamento de Usuários
        </h1>
        <p class="text-muted mb-3">Super Administrador</p>
        <div class="d-flex flex-wrap gap-2">
            <a href="{{ url_for('super_admin_backups') }}" class="btn btn-outline-secondary">
                <i class="bi bi-hdd-stack"></i> Backups
            </a>
            <a href="{{ url_for('super_admin_empresas') }}" class="btn btn-outline-secondary">
                <i class="bi bi-building"></i> Empresas
            </a>
            <a href="{{ url_for('super_admin_criar_usuario') }}" class="btn btn-outline-primary">
                <i class="bi bi-plus-circle"></i> Novo Usuário
            </a>
        </div>
    </div>

    <!-- Filtro de Empresa -->
    {% if empresas|length > 1 %}
    <div class="card shadow-sm border-0 mb-4" style="border-radius: 12px;">
        <div class="card-body p-3">
            <form method="GET" class="row g-3 align-items-end">
                <div class="col-md-4">
                    <label class="form-label text-muted small text-uppercase fw-semibold">
                        <i class="bi bi-funnel"></i> Filtrar por Empresa
                    </label>
                    <select name="empresa_id" class="form-select" onchange="this.form.submit()">
                        <option value="">Todas as Empresas</option>
                        {% for empresa in empresas %}
                        <option value="{{ empresa.id }}" {% if empresa_filtro == empresa.id %}selected{% endif %}>
                            {{ empresa.nome }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </form>
        </div>
    </div>
    {% endif %}

    <!-- Cards de Estatísticas -->
    <div class="row g-4 mb-4">
        <div class="col-lg-3 col-md-6">
            <div class="card stats-card-modern h-100 border-0 shadow-sm" style="border-left: 4px solid #718096 !important;">
                <div class="card-body position-relative">
                    <span class="badge bg-secondary bg-opacity-10 text-secondary position-absolute top-0 end-0 m-3">TOTAL</span>
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-modern bg-secondary bg-opacity-10 text-secondary">
                            <i class="bi bi-people-fill"></i>
                        </div>
                    </div>
                    <h3 class="stats-value-modern mb-1">{{ usuarios|length }}</h3>
                    <p class="stats-label-modern mb-0">TOTAL DE USUÁRIOS</p>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="card stats-card-modern h-100 border-0 shadow-sm" style="border-left: 4px solid #10b981 !important;">
                <div class="card-body position-relative">
                    <span class="badge bg-success bg-opacity-10 text-success position-absolute top-0 end-0 m-3">ATIVOS</span>
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-modern bg-success bg-opacity-10 text-success">
                            <i class="bi bi-check-circle-fill"></i>
                        </div>
                    </div>
                    <h3 class="stats-value-modern mb-1">{{ usuarios|selectattr('ativo')|list|length }}</h3>
                    <p class="stats-label-modern mb-0">USUÁRIOS ATIVOS</p>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="card stats-card-modern h-100 border-0 shadow-sm" style="border-left: 4px solid #ef4444 !important;">
                <div class="card-body position-relative">
                    <span class="badge bg-danger bg-opacity-10 text-danger position-absolute top-0 end-0 m-3">BLOQUEADOS</span>
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-modern bg-danger bg-opacity-10 text-danger">
                            <i class="bi bi-shield-lock"></i>
                        </div>
                    </div>
                    <h3 class="stats-value-modern mb-1">{{ usuarios|selectattr('bloqueado')|list|length }}</h3>
                    <p class="stats-label-modern mb-0">USUÁRIOS BLOQUEADOS</p>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="card stats-card-modern h-100 border-0 shadow-sm" style="border-left: 4px solid #3b82f6 !important;">
                <div class="card-body position-relative">
                    <span class="badge bg-primary bg-opacity-10 text-primary position-absolute top-0 end-0 m-3">EMPRESAS</span>
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-modern bg-primary bg-opacity-10 text-primary">
                            <i class="bi bi-building"></i>
                        </div>
                    </div>
                    <h3 class="stats-value-modern mb-1">{{ empresas|length }}</h3>
                    <p class="stats-label-modern mb-0">EMPRESAS CADASTRADAS</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Tabela de Usuários -->
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm border-0" style="border-radius: 12px;">
                <div class="card-body p-0">
                    {% if usuarios %}
                    <div class="table-responsive">
                        <table class="table table-hover align-middle mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th class="border-0 text-uppercase small fw-semibold text-muted ps-4">Nome</th>
                                    <th class="border-0 text-uppercase small fw-semibold text-muted">Email</th>
                                    <th class="border-0 text-uppercase small fw-semibold text-muted">Vendedores</th>
                                    <th class="border-0 text-uppercase small fw-semibold text-muted">Gerente/Admin</th>
                                    <th class="border-0 text-uppercase small fw-semibold text-muted">Cargo</th>
                                    <th class="border-0 text-uppercase small fw-semibold text-muted">Status</th>
                                    <th class="border-0 text-uppercase small fw-semibold text-muted text-center pe-4">Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in usuarios_enriquecidos %}
                                {% set usuario = item.usuario %}
                                <tr>
                                    <td class="ps-4">
                                        <strong>{{ usuario.nome }}</strong>
                                        <br>
                                        <small class="text-muted">
                                            {% if usuario.empresa %}
                                                <i class="bi bi-building"></i> {{ usuario.empresa.nome }}
                                            {% else %}
                                                <span class="text-muted">Sem empresa</span>
                                            {% endif %}
                                        </small>
                                    </td>
                                    <td>{{ usuario.email }}</td>
                                    <td>
                                        {% if usuario.cargo == 'supervisor' %}
                                            <span class="badge bg-primary bg-opacity-10 text-primary">
                                                <i class="bi bi-people-fill"></i> {{ item.total_vendedores }} vendedores
                                            </span>
                                        {% else %}
                                            <span class="text-muted small">-</span>
                                        {% endif %}
                                    </td>
                                    <td>
                                        {% if item.gerente_nome %}
                                            <span class="badge bg-warning bg-opacity-10 text-warning">
                                                <i class="bi bi-person-badge"></i> {{ item.gerente_nome }}
                                            </span>
                                        {% elif usuario.cargo == 'supervisor' %}
                                            <a href="{{ url_for('super_admin_editar_usuario', id=usuario.id) }}"
                                               class="badge bg-danger bg-opacity-10 text-danger text-decoration-none"
                                               title="Clique para vincular">
                                                <i class="bi bi-exclamation-triangle"></i> Não vinculado
                                            </a>
                                        {% else %}
                                            <span class="text-muted small">-</span>
                                        {% endif %}
                                    </td>
                                    <td>
                                        {% if usuario.is_super_admin %}
                                            <span class="badge bg-danger">Super Admin</span>
                                        {% elif usuario.cargo == 'admin' %}
                                            <span class="badge bg-danger">Admin</span>
                                        {% elif usuario.cargo == 'gerente' %}
                                            <span class="badge bg-warning text-dark">Gerente</span>
                                        {% elif usuario.cargo == 'supervisor' %}
                                            <span class="badge bg-primary">Supervisor</span>
                                        {% else %}
                                            <span class="badge bg-secondary">Usuário</span>
                                        {% endif %}
                                    </td>
                                    <td>
                                        {% if usuario.bloqueado %}
                                            <span class="badge bg-danger" data-bs-toggle="tooltip" title="{{ usuario.motivo_bloqueio or 'Bloqueado' }}">
                                                <i class="bi bi-lock-fill"></i> Bloqueado
                                            </span>
                                        {% elif usuario.ativo %}
                                            <span class="badge bg-success">
                                                <i class="bi bi-check-circle-fill"></i> Ativo
                                            </span>
                                        {% else %}
                                            <span class="badge bg-secondary">
                                                <i class="bi bi-pause-circle-fill"></i> Inativo
                                            </span>
                                        {% endif %}
                                    </td>
                                    <td class="text-center pe-4">
                                        <div class="btn-group btn-group-sm">
                                            <a href="{{ url_for('super_admin_editar_usuario', id=usuario.id) }}"
                                               class="btn btn-outline-primary"
                                               title="Editar">
                                                <i class="bi bi-pencil"></i>
                                            </a>
                                            <button type="button"
                                                    class="btn btn-outline-info"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#modal-permissoes-{{ usuario.id }}"
                                                    title="Ver Permissões">
                                                <i class="bi bi-shield-check"></i>
                                            </button>
                                            <button type="button"
                                                    class="btn btn-outline-{% if usuario.bloqueado %}success{% else %}danger{% endif %}"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#modal-bloquear-{{ usuario.id }}"
                                                    title="{% if usuario.bloqueado %}Desbloquear{% else %}Bloquear{% endif %}">
                                                <i class="bi bi-{% if usuario.bloqueado %}unlock{% else %}lock{% endif %}"></i>
                                            </button>
                                            <button type="button"
                                                    class="btn btn-outline-danger"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#modal-deletar-{{ usuario.id }}"
                                                    title="Deletar">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Modal Ver Permissões -->
                                <div class="modal fade" id="modal-permissoes-{{ usuario.id }}" tabindex="-1">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header bg-info bg-opacity-10">
                                                <h5 class="modal-title">
                                                    <i class="bi bi-shield-check me-2"></i>
                                                    Permissões - {{ usuario.nome }}
                                                </h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row g-3">
                                                    <!-- Dashboard -->
                                                    <div class="col-md-6">
                                                        <div class="card h-100 border">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <i class="bi bi-speedometer2 fs-4 me-3 {% if usuario.pode_ver_dashboard %}text-success{% else %}text-muted{% endif %}"></i>
                                                                    <div>
                                                                        <strong>Visualizar Dashboard</strong>
                                                                        <div class="small text-muted">
                                                                            {% if usuario.pode_ver_dashboard %}
                                                                                <i class="bi bi-check-circle-fill text-success"></i> Permitido
                                                                            {% else %}
                                                                                <i class="bi bi-x-circle-fill text-danger"></i> Negado
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Mensagens -->
                                                    <div class="col-md-6">
                                                        <div class="card h-100 border">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <i class="bi bi-envelope fs-4 me-3 {% if usuario.pode_enviar_mensagens %}text-success{% else %}text-muted{% endif %}"></i>
                                                                    <div>
                                                                        <strong>Enviar Mensagens</strong>
                                                                        <div class="small text-muted">
                                                                            {% if usuario.pode_enviar_mensagens %}
                                                                                <i class="bi bi-check-circle-fill text-success"></i> Permitido
                                                                            {% else %}
                                                                                <i class="bi bi-x-circle-fill text-danger"></i> Negado
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Gerenciar Vendedores -->
                                                    <div class="col-md-6">
                                                        <div class="card h-100 border">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <i class="bi bi-people fs-4 me-3 {% if usuario.pode_gerenciar_vendedores %}text-success{% else %}text-muted{% endif %}"></i>
                                                                    <div>
                                                                        <strong>Gerenciar Vendedores</strong>
                                                                        <div class="small text-muted">
                                                                            {% if usuario.pode_gerenciar_vendedores %}
                                                                                <i class="bi bi-check-circle-fill text-success"></i> Permitido
                                                                            {% else %}
                                                                                <i class="bi bi-x-circle-fill text-danger"></i> Negado
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Gerenciar Metas -->
                                                    <div class="col-md-6">
                                                        <div class="card h-100 border">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <i class="bi bi-bullseye fs-4 me-3 {% if usuario.pode_gerenciar_metas %}text-success{% else %}text-muted{% endif %}"></i>
                                                                    <div>
                                                                        <strong>Gerenciar Metas</strong>
                                                                        <div class="small text-muted">
                                                                            {% if usuario.pode_gerenciar_metas %}
                                                                                <i class="bi bi-check-circle-fill text-success"></i> Permitido
                                                                            {% else %}
                                                                                <i class="bi bi-x-circle-fill text-danger"></i> Negado
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Ver Todas as Metas -->
                                                    <div class="col-md-6">
                                                        <div class="card h-100 border">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <i class="bi bi-eye fs-4 me-3 {% if usuario.pode_ver_todas_metas %}text-success{% else %}text-muted{% endif %}"></i>
                                                                    <div>
                                                                        <strong>Ver Todas as Metas</strong>
                                                                        <div class="small text-muted">
                                                                            {% if usuario.pode_ver_todas_metas %}
                                                                                <i class="bi bi-check-circle-fill text-success"></i> Permitido
                                                                            {% else %}
                                                                                <i class="bi bi-x-circle-fill text-danger"></i> Negado
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Gerenciar Equipes -->
                                                    <div class="col-md-6">
                                                        <div class="card h-100 border">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <i class="bi bi-people-fill fs-4 me-3 {% if usuario.pode_gerenciar_equipes %}text-success{% else %}text-muted{% endif %}"></i>
                                                                    <div>
                                                                        <strong>Gerenciar Equipes</strong>
                                                                        <div class="small text-muted">
                                                                            {% if usuario.pode_gerenciar_equipes %}
                                                                                <i class="bi bi-check-circle-fill text-success"></i> Permitido
                                                                            {% else %}
                                                                                <i class="bi bi-x-circle-fill text-danger"></i> Negado
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Gerenciar Comissões -->
                                                    <div class="col-md-6">
                                                        <div class="card h-100 border">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <i class="bi bi-currency-dollar fs-4 me-3 {% if usuario.pode_gerenciar_comissoes %}text-success{% else %}text-muted{% endif %}"></i>
                                                                    <div>
                                                                        <strong>Gerenciar Comissões</strong>
                                                                        <div class="small text-muted">
                                                                            {% if usuario.pode_gerenciar_comissoes %}
                                                                                <i class="bi bi-check-circle-fill text-success"></i> Permitido
                                                                            {% else %}
                                                                                <i class="bi bi-x-circle-fill text-danger"></i> Negado
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Aprovar Comissões -->
                                                    <div class="col-md-6">
                                                        <div class="card h-100 border">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <i class="bi bi-check-circle fs-4 me-3 {% if usuario.pode_aprovar_comissoes %}text-success{% else %}text-muted{% endif %}"></i>
                                                                    <div>
                                                                        <strong>Aprovar Comissões</strong>
                                                                        <div class="small text-muted">
                                                                            {% if usuario.pode_aprovar_comissoes %}
                                                                                <i class="bi bi-check-circle-fill text-success"></i> Permitido
                                                                            {% else %}
                                                                                <i class="bi bi-x-circle-fill text-danger"></i> Negado
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Exportar Dados -->
                                                    <div class="col-md-6">
                                                        <div class="card h-100 border">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <i class="bi bi-download fs-4 me-3 {% if usuario.pode_exportar_dados %}text-success{% else %}text-muted{% endif %}"></i>
                                                                    <div>
                                                                        <strong>Exportar Dados</strong>
                                                                        <div class="small text-muted">
                                                                            {% if usuario.pode_exportar_dados %}
                                                                                <i class="bi bi-check-circle-fill text-success"></i> Permitido
                                                                            {% else %}
                                                                                <i class="bi bi-x-circle-fill text-danger"></i> Negado
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                                                <a href="{{ url_for('super_admin_editar_usuario', id=usuario.id) }}" class="btn btn-primary">
                                                    <i class="bi bi-pencil"></i> Editar Permissões
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Modal Bloquear/Desbloquear -->
                                <div class="modal fade" id="modal-bloquear-{{ usuario.id }}" tabindex="-1">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                    <form method="POST" action="{{ url_for('super_admin_bloquear_usuario', id=usuario.id) }}">
                                        <div class="modal-header">
                                            <h5 class="modal-title">
                                                {% if usuario.bloqueado %}Desbloquear{% else %}Bloquear{% endif %} Usuário
                                            </h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                        </div>
                                        <div class="modal-body">
                                            {% if not usuario.bloqueado %}
                                            <p>Tem certeza que deseja bloquear <strong>{{ usuario.nome }}</strong>?</p>
                                            <div class="mb-3">
                                                <label class="form-label">Motivo do Bloqueio</label>
                                                <textarea name="motivo" class="form-control" rows="3" required></textarea>
                                            </div>
                                            {% else %}
                                            <p>Tem certeza que deseja desbloquear <strong>{{ usuario.nome }}</strong>?</p>
                                            {% endif %}
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                            <button type="submit" class="btn {% if usuario.bloqueado %}btn-success{% else %}btn-danger{% endif %}">
                                                {% if usuario.bloqueado %}Desbloquear{% else %}Bloquear{% endif %}
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- Modal Deletar -->
                        <div class="modal fade" id="modal-deletar-{{ usuario.id }}" tabindex="-1">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <form method="POST" action="{{ url_for('super_admin_deletar_usuario', id=usuario.id) }}">
                                        <div class="modal-header bg-danger text-white">
                                            <h5 class="modal-title">Deletar Usuário</h5>
                                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                                        </div>
                                        <div class="modal-body">
                                            <p>Tem certeza que deseja deletar permanentemente <strong>{{ usuario.nome }}</strong>?</p>
                                            <div class="alert alert-danger border-0 shadow-sm">
                                                <i class="bi bi-exclamation-triangle-fill"></i>
                                                <strong>Atenção!</strong> Esta ação não pode ser desfeita.
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                            <button type="submit" class="btn btn-danger">Deletar Permanentemente</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    {% else %}
                    <div class="text-center py-5 my-5">
                        <div class="icon-modern bg-secondary bg-opacity-10 text-secondary mx-auto mb-3" style="width: 80px; height: 80px;">
                            <i class="bi bi-person-x" style="font-size: 2.5rem;"></i>
                        </div>
                        <h5 class="text-muted mb-2">Nenhum usuário encontrado</h5>
                        <p class="text-muted small mb-3">Clique no botão abaixo para criar o primeiro usuário</p>
                        <a href="{{ url_for('super_admin_criar_usuario') }}" class="btn btn-primary">
                            <i class="bi bi-plus-circle"></i> Criar Primeiro Usuário
                        </a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.modern-header {
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.page-title-modern {
    font-size: 2rem;
    font-weight: 700;
    color: #1a202c;
    margin: 0;
}

/* Cards de Estatísticas Modernos */
.stats-card-modern {
    border-radius: 12px;
    transition: all 0.3s ease;
}

.stats-card-modern:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

.icon-modern {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
}

.stats-value-modern {
    font-size: 2rem;
    font-weight: 700;
    color: #1a202c;
    line-height: 1;
}

.stats-label-modern {
    font-size: 0.875rem;
    color: #718096;
    font-weight: 500;
    letter-spacing: 0.5px;
}

/* Tabela */
.table > tbody > tr {
    transition: background-color 0.2s ease;
}

.table > tbody > tr:hover {
    background-color: rgba(0, 123, 255, 0.03);
}

.table-light th {
    background-color: #f8f9fa;
    padding: 1rem 0.75rem;
}

.table td {
    padding: 1rem 0.75rem;
    vertical-align: middle;
}

/* Badges Modernos */
.badge {
    font-weight: 500;
    letter-spacing: 0.3px;
}

/* Responsividade */
@media (max-width: 768px) {
    .page-title-modern {
        font-size: 1.5rem;
    }

    .stats-value-modern {
        font-size: 1.5rem;
    }

    .modern-header {
        padding: 1.5rem;
    }

    .d-flex.gap-1 {
        flex-direction: column;
        gap: 0.5rem !important;
    }

    .d-flex.gap-1 .btn {
        width: 100%;
    }
}
</style>
{% endblock %}

{% block extra_js %}
<script>
// Ativar tooltips
var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
})
</script>
{% endblock %}
